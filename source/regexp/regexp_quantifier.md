# 正则表达式读书笔记

## Quantifier(量词)

### 一般形式
量词用于匹配字符重复的次数，形式有以下几种：
* {n}   之前的元素必须出现n次
* {m,n} 之前的元素必须出现m次,但不多余n次
* {m,}  之前的元素必须出现m次,无上限
* {0-n} 之前的元素可以不出现也可以出，最多n次
```javascript
var reg = /\d{2,}/;
reg.test('8');   //= false
reg.test('123456');  //= true

var reg2 = /[0-9]{3}/;
reg2.test('8');   //= false
reg2.test('123');  //= true
```
上面的例子展示的是通用形式的量词，正则还有三个常用量词，分别为`+`、`?`和*,含义如下：
* `*`    等价于{0,}，可有可无，无上限    
* `+`    等价于{1,}，至少一次，无上限    
* `?`    等价于{0,1}，至多出现一次，可能不出现 
```javascript
var reg = /\d*/; //可以没有数字或者包含数字
reg.test('');        //= true
reg.test('12232');   //= true
reg.test('abc');     //= true
'1abc23'.match(reg);//=>["1", "", "", "", "23", ""]

var reg2 = /\d+/;  //只要包含大于一个数字，就匹配
reg2.test('');          //= false
reg2.test('123aaa12');  //= true
'1abc23'.match(reg2);   //=>  ["1", "23"]

var reg3 = /\d?/; //可以没有数字或者包含一个数字
reg3.test('');        //= true
reg3.test('1abc23');  //= false
'1abc23'.match(reg3); //=>  ["1", "", "", "", "2", "3", ""]
```

### 优先量词（greedy quantifier）和忽略优先量词（lazy quantifier）

量词可分为优先量词和忽略优先量词，我们前面的所有量词均为优先量词，而忽略优先量词就是在优先量词后加上`?`。
例如优先量词`+`的忽略量词为`+?`

优先量词，也可以叫贪婪量词，也就是在匹不匹配均可以的情况下，优先选择匹配。
例如如果要提取双引号包裹的字符串，相应的正则表达式可能为如下写法：
```javascript
var reg = /".*"}/;
'"abc" def'.match(reg);  //=>["\"abc\""]
'"abc" def" ghi'.match(reg);  //=>["\"abc\" def\""]
```
从第二个输出可以看出字符串匹配到了 `"abc" def"`,这显然不是我们需要的。我们可以使用忽略优先量词来解决这个问题。
忽略优先量也可以叫惰性量词，就是在匹不匹配均可以的情况下优先选择不匹配，上面的例子用忽略优先量词结果如下：
```javascript
var reg = /".*?"}/;
'"abc" def'.match(reg);  //=>["\"abc\""]
'"abc" def" ghi'.match(reg);  //=>["\"abc\""]
```
