# 正则表达式读书笔记

## Quantifier(量词)

### 一般形式
量词用于匹配字符重复的次数，形式有以下几种：
* {n}   之前的元素必须出现n次
* {m,n} 之前的元素必须出现m次,但不多余n次
* {m,}  之前的元素必须出现m次,无上限
* {0-n} 之前的元素可以不出现也可以出，最多n次
```javascript
var reg = /\d{2,}/;
reg.test('8');   //= false
reg.test('12');  //= true

var reg2 = /0-9{n}/;
reg2.test('8');   //= false
reg2.test('123');  //= true
```
上面的例子展示的是通用形式的量词，正则还有三个常用量词，分别为`+`、`?`和*,含义如下：
| 常用量词| {m,n}等价形式  | 说明      |
| -------|:-------------:| -------: |
| *      | {0,}          | 可有可无，无上限    |
| +      | {1,}          | 至少一次，无上限    |
| ?      | (0,1)         | 至多出现一次，可能不出现 |

```javascript
var reg = /^[0123456789]$/;
reg.test('12');   //= false
reg.test('8');    //= true  要整个字符串是[0-9] 之中一个才能匹配成功
```
字符组中的字符顺序可以是任意的，可以重复，不过为了可读性建议按顺序写。
```javascript
var reg = /[09123486783242323]/;
reg.test('12');   //= true
```
如果要匹配的字符比较多，列出所有字符比较麻烦，可以使用范围表示法简化写法并且可以使用多个。
```javascript
var reg = /[0-9a-zA-Z]/;
reg.test('a12A');   //= true
```
### 元字符（meta-character）与转义

上例中`-`不能匹配横线字符，而是表示范围，这类字符叫做元字符，`[]`和`^$`都是元字符,在匹配中，他们有特殊的含义。
如果有时要让元字符表示普通含义，字必须做特殊处理。

`-`如果仅临着`[]`，那么他就是普通字符，否则就是元字符。
```javascript
var reg = /[-09]/;
reg.test('-');   //= true
reg.test('9');   //= true
```
除了`-`之外的元字符，则需要转义处理，也就是在元字符前加上反斜杠\.
```javascript
var reg = /[123]456]/; //不转义，则]和最近的[匹配
reg.test('12]');    //= false
reg.test('1456]');   //= true

var reg2 = /[123\]456]/;
reg2.test('12]');   //= true
reg2.test(']');      //= true
```
### 排除型字符组

排除型字符组就是在字符组之前加上一个`^`,表示相反含义。
```javascript
var reg = /[^-09]/;  //表示除了-、0和9以外的所有字符
reg.test('-');   //= false
reg.test('a');   //= true
```

### 字符组简记法

用 `[0-9]`、`[a-z]`可以方便的表示数字和小写字母，对于这类常用字符正则表达式提供了更加简介的表示法。
常见的有字符组简记法有`\d`、`\w`、`\s`，`\d`代表`[0-9]`;`\w`代表`[0-9a-zA-Z_]`;`\s`代表`[\t\r\n\v\f]`; 
```javascript
var reg = /[\d]/;
reg.test('012');   //= true
reg.test('a');     //= false

var reg2 = /[\w]/;
reg2.test('ads_');   //= true
reg2.test('a1');     //= false
```
对于这三个简记法，正则表达式也提供了相反的简记法，分别为`\D`、`\W`、`\S`.
```javascript
var reg2 = /[\W]/;  //除了\w之外的所有字符
reg2.test('1');      //= true
reg2.test('asd');    //= false
```
有一个小技巧，利用`\d\D`或者`\w\W`等可以匹配任意字符，它和`.`的区别是`.`号不包括换行符。


